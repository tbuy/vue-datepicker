webpackJsonp([1],{NHnr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("7+uW"),s={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{attrs:{id:"app"}})},staticRenderFns:[]};var n=i("VU/8")({},s,!1,function(e){i("n3QF")},null,null).exports,o=i("/ocq"),c={props:{value:{type:String,default:""},dateType:{type:String,default:"date"},startDate:{type:String,default:"1900-1-1"},endDate:{type:String,default:"2099-1-1"},placeholder:{type:String,default:"请选择日期"},week:{type:Array},month:{type:Array},buttons:{type:Object,default:function(){}}},data:function(){return{datetimes:this.value,option:{type:"date"==this.dateType?"day":"min",format:"date"==this.dateType?"yyyy-MM-dd":"yyyy-MM-dd hh:mm",inputStyle:{color:"#000",display:"block",width:"100%","box-sizing":"border-box",padding:"5px",border:"solid 1px #C6C6C6"},overlayOpacity:.5},hours:function(){for(var e=[],t=24;t>0;)t--,e.push({checked:!1,value:t<10?"0"+t:t});return e}(),mins:function(){for(var e=[],t=60;t>0;)t--,e.push({checked:!1,value:t<10?"0"+t:t});return e}(),showInfo:{hour:!1,day:!1,month:!1,year:!1,check:!1},displayMonth:"",library:{week:this.week?this.week:["周一","周二","周三","周四","周五","周六","周日"],month:this.month?this.month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],year:[]},checked:{oldtime:"",year:"",month:"",day:"",hour:"",min:"",date:this.value?new Date(this.value):new Date},dayList:[]}},watch:{datetimes:function(){this.value!=this.datetimes&&this.$emit("input",this.datetimes)}},methods:{formatDate:function(e,t){var i={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var a in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),i)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[a]:("00"+i[a]).substr((""+i[a]).length)));return t},calcInterval:function(e,t){var i,a,s=this.formatDate(e,"yyyy-MM-dd"),n=this.formatDate(t,"yyyy-MM-dd");i=s.split("-"),a=n.split("-");var o=new Date(i[0],i[1]-1,i[2]),c=new Date(a[0],a[1]-1,a[2]);return parseInt((o-c)/1e3/60/60/24)},numberFilter:function(e){return(e=Math.floor(e))<10?"0"+e:e},nextMonth:function(e){var t=this.checked.date.getMonth()+1,i=this.startDate.slice(0,4),a=this.startDate.slice(5,7);-1!=a.indexOf("-")&&-1!=a.indexOf("/")||(a=a.slice(0,1));var s=this.endDate.slice(0,4),n=this.endDate.slice(5,7);if(-1!=n.indexOf("-")&&-1!=n.indexOf("/")||(n=n.slice(0,1)),"next"===e){if(this.checked.year>s||this.checked.year==s&&this.checked.month==n)return!1;this.setMonth(t+1)}else{if(this.checked.year<i||this.checked.year==i&&this.checked.month==a)return!1;this.setMonth(t-1)}},showDay:function(){var e=this;this.showOne("day"),this.checked.year=this.checked.date.getFullYear(),this.checked.month=this.checked.date.getMonth()+1,this.checked.day=this.checked.date.getDate(),this.displayMonth=this.library.month[this.checked.date.getMonth()];for(var t=[],i=new Date(this.checked.year,this.checked.month-1,1).getDay()?new Date(this.checked.year,this.checked.month-1,1).getDay():7,a=new Date(this.checked.year,this.checked.month,0).getDate(),s=1;s<=a;++s)t.push({value:s,inMonth:!0,unavailable:!1,checked:!1});for(s=0;s<i-1;s++){var n={value:new Date(this.checked.year,this.checked.month-1,0).getDate()-s,inMonth:!1,action:"previous",unavailable:!1,checked:!1};t.unshift(n)}var o=35-t.length;for(s=1;s<o+1;s++){var c={value:s,inMonth:!1,action:"next",unavailable:!1,checked:!1};t.push(c)}this.dayList=t,this.dayList.map(function(t){e.limitFromTo(t),!t.unavailable&&t.inMonth&&t.value==e.checked.day&&(t.checked=!0)})},limitFromTo:function(e){var t,i=new Date(this.startDate),a=new Date(this.endDate);return t="previous"==e.action?new Date(this.checked.year,this.checked.month-1-1,e.value):"next"==e.action?new Date(this.checked.year,this.checked.month+1-1,e.value):new Date(this.checked.year,this.checked.month-1,e.value),this.calcInterval(t,i)>0&&this.calcInterval(t,a)<=0?e.unavailable=!1:e.unavailable=!0,e},checkDay:function(e){if(e.unavailable||""===e.value)return!1;switch(e.inMonth||this.nextMonth(e.action),"day"!==this.option.type&&"min"!==this.option.type||(this.dayList.map(function(e){e.checked=!1}),this.checked.day=e.value,e.checked=!0),this.option.type){case"day":this.picked();break;case"min":this.showOne("hour"),this.shiftActTime()}},showYear:function(){var e=this,t=this.checked.date.getFullYear();this.endDate.slice(0,4)-t<4&&(t-=4-(this.endDate.slice(0,4)-t)),this.library.year=[];for(var i=this.startDate.slice(0,4);i<t+5;++i)this.library.year.push(i);this.showOne("year"),this.$nextTick(function(){var t=document.getElementById("yearList");t.scrollTop=t.scrollHeight-100,e.addYear()})},showOne:function(e){switch(e){case"year":this.showInfo.hour=!1,this.showInfo.day=!1,this.showInfo.year=!0,this.showInfo.month=!1;break;case"month":this.showInfo.hour=!1,this.showInfo.day=!1,this.showInfo.year=!1,this.showInfo.month=!0;break;case"day":this.showInfo.hour=!1,this.showInfo.day=!0,this.showInfo.year=!1,this.showInfo.month=!1;break;case"hour":this.showInfo.hour=!0,this.showInfo.day=!1,this.showInfo.year=!1,this.showInfo.month=!1;break;default:this.showInfo.day=!0,this.showInfo.year=!1,this.showInfo.month=!1,this.showInfo.hour=!1}},showMonth:function(){this.showOne("month")},addYear:function(){var e=this,t=document.getElementById("yearList");t.addEventListener("scroll",function(i){if(t.scrollTop<t.scrollHeight-100){var a=e.library.year[e.library.year.length-1];a<e.endDate.slice(0,4)&&e.library.year.push(a+1)}},!1)},setYear:function(e){var t=this;setTimeout(function(){t.checked.date=new Date(e,t.checked.month-1,t.checked.day),t.showDay()},20)},setMonth:function(e){this.displayMonth=this.library.month[e-1],this.checked.date=new Date(this.checked.year,e-1,this.checked.day),this.showDay()},showCheck:function(){var e=this,t=new Date;this.hours.map(function(i){i.value==t.getHours()?(i.checked=!0,e.checked.hour=(new Date).getHours()):i.checked=!1}),this.mins.map(function(i){i.value==t.getMinutes()?(i.checked=!0,e.checked.min=(new Date).getMinutes()):i.checked=!1}),""===this.datetimes?this.showDay():"day"!==this.option.type&&"min"!==this.option.type||(this.checked.oldtime=this.datetimes,this.showDay()),this.showInfo.check=!0},setTime:function(e,t,i){var a=this;i.forEach(function(i){i.checked=!1,i.value===t.value&&(i.checked=!0,a.checked[e]=i.value)})},picked:function(e){var t;"cancel"==e?this.$emit("cancel",this.datetimes):"day"===this.option.type?(t=this.checked.year+"-"+this.checked.month+"-"+this.checked.day,this.checked.date=new Date(t),this.datetimes=this.formatDate(this.checked.date,this.option.format)):"min"===this.option.type&&(t=this.checked.year+"-"+this.checked.month+"-"+this.checked.day+" "+this.checked.hour+":"+this.checked.min,this.checked.date=new Date(t),this.datetimes=this.formatDate(this.checked.date,this.option.format)),this.showInfo.check=!1,this.$emit("change",this.datetimes)},shiftActTime:function(){this.$nextTick(function(){if(!document.querySelector(".hour-item.active"))return!1;document.querySelector(".hour-box").scrollTop=(document.querySelector(".hour-item.active").offsetTop||0)-250,document.querySelector(".min-box").scrollTop=(document.querySelector(".min-item.active").offsetTop||0)-250})}}},h={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"cov-vue-date",class:e.option.wrapperClass?e.option.wrapperClass:{}},[i("div",{staticClass:"datepickbox",on:{click:e.showCheck}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.datetimes,expression:"datetimes"}],staticClass:"cov-datepicker",class:e.option.inputClass?e.option.inputClass:{},style:e.option.inputStyle?e.option.inputStyle:{},attrs:{type:"text",title:"input date",readonly:"readonly",placeholder:e.placeholder},domProps:{value:e.datetimes},on:{click:e.showCheck,focus:e.showCheck,input:function(t){t.target.composing||(e.datetimes=t.target.value)}}})]),e._v(" "),e.showInfo.check?i("div",{staticClass:"datepicker-overlay",style:{background:e.option.overlayOpacity?"rgba(0,0,0,"+e.option.overlayOpacity+")":"rgba(0,0,0,0.5)"}},[i("div",{staticClass:"cov-date-body",style:{"background-color":e.option.color?e.option.color.header:"#3f51b5"}},[i("div",{staticClass:"cov-date-monthly"},[i("div",{staticClass:"cov-date-previous",on:{click:function(t){e.nextMonth("pre")}}},[e._v("«")]),e._v(" "),i("div",{staticClass:"cov-date-caption",style:{color:e.option.color?e.option.color.headerText:"#fff"}},[i("span",{on:{click:e.showYear}},[i("small",[e._v(e._s(e.checked.year))])]),e._v(" "),i("br"),e._v(" "),i("span",{on:{click:e.showMonth}},[e._v(e._s(e.displayMonth))])]),e._v(" "),i("div",{staticClass:"cov-date-next",on:{click:function(t){e.nextMonth("next")}}},[e._v("»")])]),e._v(" "),e.showInfo.day?i("div",{staticClass:"cov-date-box"},[i("div",{staticClass:"cov-picker-box"},[i("div",{staticClass:"week"},[i("ul",e._l(e.library.week,function(t){return i("li",{key:t},[e._v(e._s(t))])}))]),e._v(" "),e._l(e.dayList,function(t,a){return i("div",{key:a,staticClass:"day",class:{checked:t.checked,unavailable:t.unavailable},style:t.checked?e.option.color&&e.option.color.checkedDay?{background:e.option.color.checkedDay}:{background:"#3F51B5"}:{},on:{click:function(i){e.checkDay(t)}}},[e._v("\n                        "+e._s(t.value)+"\n                    ")])})],2)]):e._e(),e._v(" "),e.showInfo.year?i("div",{staticClass:"cov-date-box list-box"},[i("div",{staticClass:"cov-picker-box date-list",attrs:{id:"yearList"}},e._l(e.library.year,function(t){return i("div",{key:t,staticClass:"date-item",attrs:{"track-by":"$index"},on:{click:function(i){e.setYear(t)}}},[e._v(e._s(t)+"\n                    ")])}))]):e._e(),e._v(" "),e.showInfo.month?i("div",{staticClass:"cov-date-box list-box"},[i("div",{staticClass:"cov-picker-box date-list"},e._l(e.library.month,function(t,a){return i("div",{key:t,staticClass:"date-item",attrs:{"track-by":"$index"},on:{click:function(t){e.setMonth(a+1)}}},[e._v(e._s(t)+"\n                    ")])}))]):e._e(),e._v(" "),e.showInfo.hour?i("div",{staticClass:"cov-date-box list-box"},[i("div",{staticClass:"cov-picker-box date-list"},[i("div",{staticClass:"watch-box"},[i("div",{staticClass:"hour-box"},[i("div",{staticClass:"mui-pciker-rule mui-pciker-rule-ft"}),e._v(" "),i("ul",e._l(e.hours,function(t){return i("li",{key:t.value,staticClass:"hour-item",class:{active:t.checked},on:{click:function(i){e.setTime("hour",t,e.hours)}}},[e._v("\n                                    "+e._s(t.value)+"\n                                ")])}))]),e._v(" "),i("div",{staticClass:"min-box"},[i("div",{staticClass:"mui-pciker-rule mui-pciker-rule-ft"}),e._v(" "),e._l(e.mins,function(t){return i("div",{key:t.value,staticClass:"min-item",class:{active:t.checked},on:{click:function(i){e.setTime("min",t,e.mins)}}},[e._v("\n                                "+e._s(t.value)+"\n                            ")])})],2)])])]):e._e(),e._v(" "),i("div",{staticClass:"button-box"},[i("span",{on:{click:function(t){e.picked("cancel")}}},[e._v(e._s(e.buttons&&e.buttons.cancel?e.buttons.cancel:"取消"))]),e._v(" "),i("span",{on:{click:e.picked}},[e._v(e._s(e.buttons&&e.buttons.ok?e.buttons.ok:"确定"))])])])]):e._e()])},staticRenderFns:[]};var r={components:{datepicker:i("VU/8")(c,h,!1,function(e){i("PUqd")},"data-v-f258a24c",null).exports},data:function(){return{dateTime1:"",dateTime2:"",startDate:"2018-8-1",endDate:"2020-1-1"}},computed:{placeholder:function(){return this.dateTime?this.dateTime:"请选择有效日期"}},methods:{}},d={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"demo"},[i("div",[i("h3",[e._v("日期选择")]),e._v(" "),i("datepicker",{attrs:{dateType:"date",placeholder:e.placeholder,startDate:e.startDate,endDate:e.endDate},model:{value:e.dateTime1,callback:function(t){e.dateTime1=t},expression:"dateTime1"}})],1),e._v(" "),i("div",[i("h3",[e._v("日期及时间选择")]),e._v(" "),i("datepicker",{attrs:{dateType:"datetime",placeholder:e.placeholder,startDate:e.startDate,endDate:e.endDate},model:{value:e.dateTime2,callback:function(t){e.dateTime2=t},expression:"dateTime2"}})],1)])},staticRenderFns:[]};var l=i("VU/8")(r,d,!1,function(e){i("c3Rt")},"data-v-5aec624e",null).exports;a.a.use(o.a);var u=new o.a({routes:[{path:"/",component:l}]});a.a.config.productionTip=!1,new a.a({el:"#app",router:u,components:{App:n},template:"<router-view></router-view>"})},PUqd:function(e,t){},c3Rt:function(e,t){},n3QF:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.b2849d839392779e0956.js.map